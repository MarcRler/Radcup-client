<ion-view view-title="MY GAMES" ng-controller="myGamesController">
    <ion-content ng-controller="gamesController">
        <ion-list>
          <div id="spinner" data-tap-disabled="true" ng-hide="hide">
              <ion-spinner icon="spiral" class="loading"></ion-spinner>
          </div>
            <div ng-repeat="group in groups" style="margin-top:30px;">
                <ion-item class="item-stable" ng-click="toggleGroup(group)" ng-class="{active: isGroupShown(group)}">
                    <i class="icon" ng-class="isGroupShown(group) ? 'ion-minus' : 'ion-plus'"></i> &nbsp; {{group.name}} Games
                </ion-item>
                <ion-item class="card gamecards item-accordion" ng-repeat="game in group.items | orderBy:'-'" ng-show="isGroupShown(group)">
                    <div class="item game-status" ng-show="game.state!=undefined">
                        {{ game.state }}
                    </div>
                    <div class="item item-text-wrap item-divider">
                        <div class="left-player">
                            <div><img class="players" ng-src="./img/players/red-players.png"></img>
                            </div>
                            <br>
                            <span>{{ game.players.one }}</span>
                        </div>
                        <div class="right-player">
                            <div><img class="players" ng-src="./img/players/{{ getIcons(game.players.three, 'green') }}.png"></img>
                            </div>
                            <br>
                            <span>{{ game.players.three }}</span>
                        </div>
                        <div class="versus">
                            <p>VS</p>
                        </div>
                        <div class="left-player">
                            <div><img class="players" ng-src="./img/players/{{ getIcons(game.players.two, 'red') }}.png"></img>
                            </div>
                            <br>
                            <span>{{ game.players.two }}</span>
                        </div>
                        <div class="right-player">
                            <div><img class="players" ng-src="./img/players/{{ getIcons(game.players.four, 'green') }}.png"></img>
                            </div>
                            <br>
                            <span>{{ game.players.four }}</span>
                        </div>
                    </div>
                    <div class="item">
                        {{ game.desc }}
                    </div>
                    <div class="join-game item">
                        <a ui-sref='gameOverview({id:game._id})' class="button button-outline button-light">
                DETAILS
              </a>
                    </div>
                </ion-item>
            </div>
        </ion-list>
    </ion-content>
</ion-view>
